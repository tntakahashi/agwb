

<sysdef top="MAIN">
<constant name="NEXTERNS" val="4" />
<constant name="NSEL_BITS" val="3" />
<constant name="NSEL_MAX" val="(1 &lt;&lt; NSEL_BITS)-1" />



<block name="MAIN">
  <blackbox name="EXTHUGE" type="HTEST" addrbits="16" />
  <!-- <subblock name="LINKS" type="SYS1" reps="NSEL_MAX"/> -->
  <subblock name="LINKS" type="SYS1" reps="NSEL_MAX" include="block2.xml"/>
  <blackbox name="EXTERN" type="EXTTEST" addrbits="10" reps="NEXTERNS" />
  <creg name="CTRL" desc="Control register in the main block" default="0x11">
    <field name="CLK_ENABLE" width="NSEL_BITS" include="block1.xml"/>
    <field name="CLK_FREQ" width="4"/>
    <field name="PLL_RESET" width="1"/>
  </creg>
</block>

</sysdef>
